<!doctype html>
<!--[if lt IE 7]> <html class="ie6 oldie"> <![endif]-->
<!--[if IE 7]>    <html class="ie7 oldie"> <![endif]-->
<!--[if IE 8]>    <html class="ie8 oldie"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="">
<!--<![endif]-->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- #1 - Change title -->
<title>Chapter 7 - Public vs. Private Peering</title>

<link href="../../commoncss/boilerplate.css" rel="stylesheet" type="text/css">
<link href="../../../../../../css/site.css" rel="stylesheet" type="text/css">
<link href="../../commoncss/Internet-Peering-Playbook.css" rel="stylesheet" type="text/css">

<!-- #2 - link this to the chapter specific area -->
<link href="css/ch00.css" rel="stylesheet" type="text/css">

<!-- 
To learn more about the conditional comments around the html tags at the top of the file:
paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/

Do the following if you're using your customized build of modernizr (http://www.modernizr.com/):
* insert the link to your js here
* remove the link below to the html5shiv
* add the "no-js" class to the html tags at the top
* you can also remove the link to respond.min.js if you included the MQ Polyfill in your modernizr build 
-->
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="../../commonjs/respond.min.js"></script>
</head>
<body>
<div class="gridContainer clearfix"><!-- #BeginLibraryItem "/Library/3_header.lbi" -->
<!-- Google Analytics Stuff for the page -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7883161-3");
pageTracker._trackPageview();
} catch(err) {alert("GoogleAnalyticsFailure");}</script>

<div id="header">
	<div id="google_translate_element"></div>
	<script type="text/javascript">
		function googleTranslateElementInit() {
  			new google.translate.TranslateElement({
    			pageLanguage: 'en'
  			}, 'google_translate_element');
		}
	</script>
	<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
	<div class="header-top">
		<a href="/index.php"><img src="/img/pageLayoutIdea4.png" alt="drPeeringHeader4" width="1004" height="202" ></a>
		<div class="nav1">
  			<ul>
    			<li><a href="/index.php" title="Go to Start page">Home</a></li>
    			<li><a href="http://ask.DrPeering.net" title="ask DrPeering Monthly Blog">ask.DrPeering Blog</a></li>
    			<li><a href="/about/about.html" title="Get to know who we are">About</a></li>
    			<li><a href="/about/contactUs.html" title="Get in touch with us">Contact</a></li>
  			</ul>
		</div>
		<div class="searchForm">
			<div class="searchform">
			    <form action="http://www.google.com/search" method="get" class="form">
			    	<fieldset>
        				<input value=" Search DrPeering site..." name="q" class="field" />
        				<input  type="hidden"  name="sitesearch" value="drpeering.net" />
        				<input type="submit" value="GO!" name="button" class="button" />
      				</fieldset>
    			</form>
  			</div>
		</div>
		<nav> 
        	<img src="/img/pageLayoutIdea4buttons.png" alt="navButtons" width="1000" height="50" usemap="#headerImageMap">
    		<map name="headerImageMap" id="headerImageMap">
      			<area shape="rect" coords="15,7,250,43" href="/white-papers/An-Internet-Peering-White-Papers-Index.html" alt="Internet Peering White Papers">
      			<area shape="rect" coords="263,9,496,42" href="/Workshops/Internet-Peering-Workshop.html" alt="Internet Peering Workshops">
      			<area shape="rect" coords="508,9,744,43" href="/Consulting/Consulting.html" alt="DrPeering Consulting">
      			<area shape="rect" coords="754,10,989,42" href="/about/contactUs.html" alt="Contact DrPeering">
    		</map>
  		</nav>
    </div> <!-- header-top -->
</div> <!-- header -->
<!-- END HEADER SECTION --><!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/4_excerpts.lbi" -->
<!--<div id="excerpts">
	<div id="left">
    	<p>Excerpts from <a href="../core/index.php">The Internet Peering Playbook</a>, available in hard copy from <a href="http://www.amazon.com/The-Internet-Peering-Playbook-Connecting/dp/1937451054">Amazon.com</a> and the <a href="https://itunes.apple.com/us/book/internet-peering-playbook/id570203583?ls=1">iBookStore</a> for the iPad. </p>
    </div>
	<div id="bookExcerptsBook">
		<p><img src="../Internet-Peering-Playbook/Second-Edition/Source/imgsrc/FrontCoverOnlyMedJPG.jpg" alt="bookcoverimg" width="100"></p>
    </div>
	<div id="bookExcerptsRight">
    	<p>Also available as a future-proof <a href="../core/buyTheBook.html">DropBox share</a>.</p>
	</div>
</div>
--->
<!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/2_ipp_topnav.lbi" -->
<div id="topleftnav"> 
	<a href="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/ipptoc.html"> <img src="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/commonimg//back.png" width="40" height="42" alt="back">
  	<p>Back to Table Of Contents</p></a>
</div>
  
<div id="toprightnav">
<a href="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/ipptoc.html"> <img src="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/commonimg/forward.png" width="40" height="42" alt="back">
  	<p>Back to Table Of Contents</p></a>
</div><!-- #EndLibraryItem --><div id="title">

<!-- #3 Change title -->
	<h1>Chapter 7 - Public vs. Private Peering</h1>
	<p>In the peering coordinator community, the Public vs. Private Peering issue has generated much debate. In this chapter we will present the strongest arguments on each side of the debate. </p>
<p>
    This information was collected at &ldquo;A Great Debate,&rdquo; which I held at a NANOG Peering BOF. The more detailed points were collected from hallway discussions after the debate.</p>
</div>
  <div id="left1">
    <h2>Introduction</h2>
    <p>When Internet Service Providers build into an IXP, they have two interconnect options. They can connect to the public switching fabric for the chance to interconnect with all of the participants connected to the switch. At some IXPs you can also interconnect privately, across a dedicated piece of copper or fiber called a &ldquo;cross-connect.&rdquo; Both of these methods are illustrated in Figure 7-1.</p>
    <p>This chapter highlights some of the strong points of both approaches. </p>
<p>
      When comparing Public and Private Peering, we assume that both are taking place within a IXP. In particular, we assume that in both cases the cost of transport, colocation, power, etc. is identical. Only the equipment and peering services costs are considered along with the operations issues associated with each model.</p>
<p>
    We further assume that Private Peering involves interconnecting peers using Gigabit Ethernet over dedicated cross-connects. The Public Peering is accomplished by aggregating these same peering sessions across a 10G port on an IXP switch platform. </p>
</div>
  <div id="right1">
    <p class="figure"><img src="img/7-1-public-private.png" alt="Public vs. Private image" width="75%"></p>
    <p class="figure">Figure 7-1. An IXP often supports both Public and Private Peering.</p>
</div>
  <div id="center6">
    <h2>The Top 3 Reasons Public Peering Is Better Than Private Peering</h2>
    <p>Here are the strongest arguments presented from Public Peering advocates:</p>
    <h3>1. Public Peering Is Better Because of Aggregation Benefits.</h3>
    <p>a. A network can easily aggregate a large number of relatively small peering sessions across a single fixed-cost peering port, with zero incremental cost for each peer. </p>
<p>
      (Private Peering requires additional cross-connects and potentially an additional interface card for each peering session, so there are real costs associated with each incremental peering session.) </p>
<p>
      Small peering sessions often exhibit a high degree of variability in their traffic levels, making them perfect candidates for aggregation. Since not all peers peak at the same time, multiple peers can be multiplexed onto the shared peering interface card, with one peer&rsquo;s peak traffic filling in the valleys of another peer&rsquo;s traffic, helping make peering cost effective: &ldquo;I can&rsquo;t afford to dedicate a whole Gigabit Ethernet port to Private Peering with this guy, but Public Peering is a no-brainer.&rdquo;</p>
<p>
      b. Public Peering ports usually have very large gradations of bandwidth: 100Mbps Ethernet upgrades to 1Gbps Ethernet, which upgrades to 10Gbps Ethernet and now 100Gbps. </p>
<p>
      With such large gradations, it is easier for smaller peers to maintain several times more capacity via Public Peering than they are currently using, reducing the likelihood of congestion due to shifting traffic patterns, bursty traffic, or uncontrolled Denial of Service (DoS) attacks. &ldquo;Some peers aren&rsquo;t as responsive to upgrading their peering infrastructure, nor are they of similar mind with respect to the desire for peering bandwidth headroom.&rdquo; The large gradations of Public Peering bandwidth help reconcile these two issues.</p>
    <h3>2. Public Peering Administration Is Easier.</h3>
    <p>a. Public Peering is the easiest and fastest way to both turn up and turn down a peering session, since zero physical work is required. Peering is &ldquo;soft configured&rdquo; by the two parties on the router, and then the peering session is up. (Private Peering cross-connects must be ordered and provisioned/tested, and who pays for it has to be determined, etc.)</p>
<p>
      b. It is common for a network to set up a trial peering session to determine the amount of traffic that would be exchanged should a session be turned up. If Public Peering capacity is available, no incremental cost or extra administrative work is required to turn up a trial peer, and the information gathered may prevent choosing an incorrect Private Peering port size if the traffic is moved to a private peer later.</p>
<p>
      c. Many peering coordinators must work within a budget, and do not have decision-making authority for purchases within their company. Once the Public Peering switch port is ordered, there is no additional cost and, therefore, no additional hurdle to peering for the peering coordinator. </p>
<p>
      d. Public Peering provides financial predictability. The hardware requirements and monthly recurring costs of peering are the same every month, making planning and budgeting much easier. </p>
<p>
      e. 10G Public Peering scales large peering sessions (those greater than 1Gbps) seamlessly, while Private Peering beyond Gigabit Ethernet capacities requires Private Peering at 10G (more expensive), or link aggregation (connecting 10Gs together), which can be tricky. The same logic goes as the industry jumps gradations (today the peering port are 100G ports).</p>
    <h3>3. Customers Use Public Peering as a Selection Criterion. </h3>
    <p>a. Some corporate and enterprise customers continue to ask to see the list of the ISP&rsquo;s Public Peering points.</p>
<p>
      b. Public Peering may be the only cost-effective way to peer across multiple colocation facilities.</p>
<p>
      c. Across Europe, where Public Peering across multiple collocation centers is the norm, Private Peering is often a much more expensive solution. Purchasing Private Peering circuits within a metro is potentially very expensive, while the same traffic can traverse a shared peering fabric for much less. </p>
  </div>
  <div id="center7">
    <h2>The Top 5 Reasons Private Peering Is Better Than Public Peering</h2>
    <p>Here are the strongest arguments that Private Peering advocates presented at the debate or shared with me in person:</p>
    <h3>1. Private Peering Sessions Are Easier to Monitor. </h3>
    <p>a. Private Peering monitoring is cheap and easy. SNMP counters can be easily collected on each peering port to monitor the utilization of the peering session resources. There is no time- or CPU-intensive Netflow data collection and processing, nor is any expensive network analysis software required to sort through routing data to determine per-peering-session traffic volume. </p>
<p>
      b. Private Peering provides greater visibility with no blind oversubscription problem. With Public Peering, the remote peer could be congesting his port with the other peering sessions, and you have no visibility into their Public Peering port utilization. Packets could be dropped because of port oversubscription, resulting in poor peering performance. Since Private Peering involves only the two parties, when the port reaches an agreed-upon utilization (say 60% utilization, for example), both parties can see that it is time to upgrade the peering session.</p>
<p>
      c. Some parties mandate migration to Private Peering should either side reach 40% utilization on its Public Peering port. Since this direction is the migration direction anyway, why not start there? </p>
    <h3>2. Private Peering Is Very Cost-Effective. </h3>
    <p>a. This conclusion is based on the fact that router ports are expensive and switch ports are cheap. Even if an expected interface card port and cross-connect costs were $800 per month and the parties were expected to send 4Gbps to each other, the traffic exchange cost would be only $800/4000Mbps=$0.50/Mbps – an attractive price compared to today&rsquo;s transit market.</p>
<p>
      b. For those who exchange traffic with a few large peers, the 80-20 rule applies; the majority of peering benefits can be derived by peering with the 20% of potential peers that deliver 80% of your traffic, suggesting fewer larger peers is preferable over many smaller peers across a Public Peering fabric. </p>
    <h3>3. Private Peering Is More Reliable and Easier to Debug. </h3>
    <p>a. Private Peering involves fewer network components that could break. It should be noted that this argument weakens when the &ldquo;private&rdquo; peering sessions are provisioned across VLANs, through optical interconnects, telco provisioned SONET services, or other active electronics.</p>
<p>
      b. An architecture of Private Peering removes the variability of support processes across Public Peering IXPs. Across Europe, each IXP is different, and a NOC operator may need to understand the processes and the levels of support and debugging capabilities of the switch support staff on call at the IXP, and may even need to craft NOC scripts to navigate through the IXP operations tasks. A Private Peering architecture provides consistency that helps the NOC debug and fix things more rapidly.</p>
<p>
      c. One Public Peering fear is that layer 2 fabrics could be connected through other layer 2 fabrics, perhaps without the knowledge or consent of the peer, resulting in a very difficult debugging and diagnostics situation if a peering failure occurs.</p>
    <h3>4. Private Peering Sessions Are More Secure.</h3>
    <p>a. A Private Peering network that is directly connected only with those with whom there is an explicit peering arrangement is more secure than a network that connects to a Public Peering fabric that includes participants with whom there is no relationship with the company. There is some history here; early exchange points were places where &ldquo;traffic stealing&rdquo; was accomplished by pointing default at unsuspecting and poorly secured public peers. Other problems included peers tunneling traffic across the ocean across a peer&rsquo;s network. These things are disallowed in most peering and IXP terms and conditions, and can be further secured through filtering, but they are still seen as potential hazards reduced by privately peering. </p>
<p>
      b. An architecture that solely privately peers is less likely to be compromised. With a switch or other active electronics in between peers, there is the possibility that traffic can be mirrored and captured at the peering point without detection. It is relatively easy to mirror a Public Peering port as compared with tapping into Private Peering fiber cross-connects without the detection of the peers involved. </p>
    <h3>5. Private Peering Inclination Signals a More Attractive Peer. </h3>
    <p>a. The &ldquo;Big Players&rdquo; privately peer with each other, and some even loath Public Peering fabrics for historical reasons. Adopting this attitude puts one in the company of the largest Tier 1 ISPs in the world. &ldquo;For certain very large networks, Public Peering makes no sense at all. For certain very small networks, Public Peering may make perfect sense.&rdquo; Or put more harshly, &ldquo;if you think that Public Peering is a good idea, you&rsquo;re just not large enough yet.&rdquo;</p>
  </div>
  <div id="overflow">
    <h2>Hybrid Approach (Public + Private Peering)</h2>
    <p>A combination of Public and Private Peering is common, where ISPs peer publicly and &ldquo;peel off&rdquo; peering sessions to Private Peering as the volume of traffic to and from those peers increases. </p>
<p>
      One ISP I spoke with primarily uses Private Peering but does maintain Public Peering for reserve and emergency interconnect capacity. The ability to scale Public Peering quickly and seamlessly was seen as a key attribute here. History has shown that traffic generally grows, incrementally or sporadically, from emergencies and spot events.</p>
<p>
      Vijay Gill shared his belief that ISPs go through a Peering Policy lifecycle as shown in Figure 7-2. </p>
    <p class="figure"><img src="img/7-2-PeeringPolicyLifecycle.png" alt="Peering Lifecycle" width="44%" height="413"></p>
    <p class="figure">Figure 7-2. The Peering Policy Lifecycle.
    <p>
When the networks first enter the peering ecosystem, they tend to be more open and willing to peer with anyone that can help decrease their transit expenses. During this time, Public Peering is preferred as a means to aggregate large numbers of small peering sessions. </p>
<p>
As networks grow they tend to implement a hybrid of public and Private Peering, and adopt a more selective Peering Policy. </p>
<p>
The largest ISPs in every Internet region studied tend to migrate exclusively to Private Peering and are very restrictive with respect to whom they are willing to peer with. Since there are few peers, dedicated Private Peering ports scale very well.</p>
<p>
We will discuss peering policies and the broader Internet Peering Ecosystem dynamics next.</p>
    <br clear="all">
    <h3>Peering Workshop Practice Questions</h3>
    <p>Here are a few practice questions from the Internet Peering Workshop:</p>
<p>
      1.  Based solely on the interconnect costs of peering (cross-connects at $300/month) and the cost of Public Peering ports (a 10G port at $1400/month), how much peered traffic would make an ISP indifferent between the two? </p>
<p>
      2.  Why might a large ISP prefer Private Peering?</p>
<p>
      3.  Why might a small ISP prefer Public Peering?</p>
    <p>Answers to these questions are in the <a href="#AnswersToPracticeQuestionsCh07">answer key</a> in the back of the book.</p>
    <p>&nbsp;</p>
  </div><!-- #BeginLibraryItem "/Library/1_ipp_bottom_nav.lbi" --><div id="bottomleftnav">
<a href="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/ipptoc.html"> <img src="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/commonimg//back.png" width="40" height="42" alt="back">
  	<p>Back to Table Of Contents</p></a>
</div>
<div id="bottomrightnav">
<a href="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/ipptoc.html"> <img src="/a/Internet-Peering-Playbook/Second-Edition/Source/HTML_IPP/commonimg//forward.png" width="40" height="42" alt="back">
  	<p>Back to Table Of Contents</p></a>
</div><!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/6_footer_ad.lbi" -->
<div id="footerad">
<p>This material is from <a href="../../../../../../../core/index.php">The Internet Peering Playbook</a>, available from <a href="http://www.amazon.com/The-Internet-Peering-Playbook-Connecting/dp/1937451054">Amazon.com</a> and on the <a href="https://itunes.apple.com/us/book/internet-peering-playbook/id570203583?ls=1">iBookStore</a> as an iTextbook.</p>
</div>
<script type="text/javascript"><!--
google_ad_client = "pub-9876793312004476";
/* 468x60, created 12/18/09 */
google_ad_slot = "7818311111";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- Google Analytics Stuff for the page -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7883161-2");
pageTracker._trackPageview();
} catch(err) {}</script><!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/5_footer.lbi" -->
<div id="footer">
  	<p class="center"><a href="http://DrPeering.net">Back To DrPeering Home</a></p>
  	<p class="center"><a href="http://DrPeering.net">DrPeering.net &copy;2012</a> | <a href="/about/privacy.html" title="Dr.Peering Privacy Policy">Privacy Policy</a> | <a href="/about/terms.html" title="Dr.Peering Terms and Conditions">Terms and Conditions</a> | <a href="/about/about.html" title="About Dr.Peering">About Us</a> | <a href="/about/contactUs.html" title="Contact Dr.Peering">Contact Us</a></p>  
</div><!-- #EndLibraryItem --></div>
</body>
</html>
